<ng-container *ngIf="userProfile">
  <app-dashboard-layout [userProfile]="userProfile" pageTitle="Op√ß√µes de Refei√ß√µes">
    <div class="meal-options-container">
      <div class="page-header">
        <h1 class="page-title">Gerenciamento de Op√ß√µes de Refei√ß√µes</h1>
        <button class="btn-primary" (click)="createNewOption()">
          <span class="btn-icon">‚ûï</span>
          Criar Nova Op√ß√£o
        </button>
      </div>

      <div class="meal-types-grid">
        <div class="meal-type-card" *ngFor="let type of mealTypes">
          <h2 class="meal-type-title">{{ type }}</h2>
          <div class="meal-list">
            <div class="meal-item" *ngFor="let meal of groupedMeals[type]">
              <div class="meal-details">
                <h3 class="meal-name">{{ meal.name }}</h3>
                <ul class="food-items">
                  <li *ngFor="let item of meal.items">{{ item.quantity }} {{ item.description }}</li>
                </ul>
              </div>
              <div class="meal-actions">
                <button class="btn-icon" (click)="editMeal(meal.id!)" title="Editar">
                  ‚úèÔ∏è
                </button>
                <button class="btn-icon btn-delete" (click)="deleteMeal(meal.id!)" title="Excluir">
                  üóëÔ∏è
                </button>
              </div>
            </div>
            <div *ngIf="!groupedMeals[type]?.length" class="no-meals-message">
              Nenhuma op√ß√£o de {{ type }} cadastrada.
            </div>
          </div>
        </div>
      </div>
    </div>
  </app-dashboard-layout>
</ng-container>